version: 1.0.{build}

image:
  build: Windows

init:
  - ps: Write-Host "Starting AppVeyor worker image build..."

install:
  # Install .NET 10 Preview
  - ps: |
      $dotnetUrl = "https://download.visualstudio.microsoft.com/download/pr/7d775d6d-55b4-4243-9ef9-135e8e5a7231/aa0c64e2d5b8f682bb6ca8f9f340b62b/dotnet-sdk-10.0.100-preview.1-win-x64.exe"
      Invoke-WebRequest $dotnetUrl -OutFile "dotnet10.exe"
      Start-Process .\dotnet10.exe -ArgumentList "/quiet","/norestart" -Wait

  # Verify installation
  - ps: dotnet --info

build: off
test: off

image_build:
  provider: appveyor
  name: "dotnet10-custom"
  description: ".NET 10 preview image based on AppVeyor Windows worker"
